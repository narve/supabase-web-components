<!DOCTYPE html>
<html lang="no">
<head>
    <meta charset="UTF-8">
    <title>Snok</title>


    <script type="importmap">
        {
          "imports": {
            "@swc/": "https://narve.github.io/supabase-web-components/",
            "@../": "https://narve.github.io/supabase-web-components/"
          }
        }
    </script>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="shortcut icon" type="image/jpg" href="favicon.ico"/>

    <link id="classless_stylesheet" rel="stylesheet" type="text/css"
          href="https://unpkg.com/chimeracss/build/chimera.css"/>

    <script type="module" src="index.js"></script>

    <link rel="stylesheet" type="text/css" href="app.css"/>
    <link rel="stylesheet" type="text/css" href="accordion.css"/>

</head>
<body>

<cb-toast></cb-toast>

<div is="supabase-root">


    <div style="display:flex;">
        <h1>SkatteSnok!</h1>
        <div>
        <span style="float:right; outline: red 2px solid">
            <user-info></user-info>
        </span>
        </div>
    </div>

    <supabase-connect
            title="AppServer"
            url="https://wuxcrmvzflfdqccxkeig.supabase.co"
            key="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind1eGNybXZ6ZmxmZHFjY3hrZWlnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTI1Nzk1OTYsImV4cCI6MjAyODE1NTU5Nn0.48D1wN5alsizO3mT28Ct3C8rT6JkOF2XCS39PUgc6u8"
    >
    </supabase-connect>


    <details class="unauthenticated" open>
        <summary>0 - Hva er dette?</summary>
        <div>
            <p>
                Skattelistene har alltid vært offentlig tilgjengelig i Norge, helt anonymt
                - helt frem til 2014. Da innførte Skatteetaten loggføring av søk i skattelistene.
                Man kan fortsatt se på hvem som helst sin skatteinformasjon - men den du søker
                frem vil nå få beskjed om dette, og se navn og fødselsdato på den som har søkt.
            </p>
            <p>
                Hvorfor ønsker man å søke i skattelistene? Det kan være mange grunner til det -
                det er ikke bare snoking og nysgjerrighet. Innsyn i skattelistene kan brukes
                til å avdekke korrupsjon og misbruk av firmamidler, sjekke om
                firma overholder likelønnsprinsipper, være et grunnlag for lønnsforhandlinger, etc.
            </p>
            <p>
                Dette er en tjeneste der du kan få <strong>andre</strong> til å søke opp
                skatteinformasjon for de du ønsker, slik at ingen vet at det var akkurat
                deg som ønsket den informasjon. Til gjengjeld må du selv søke opp andre
                (tilfeldige fremmede) sin skatteinformasjon, for andre.
            </p>
        </div>
    </details>

    <details class="unauthenticated">
        <summary>1 - Registrering (anonymt om ønskelig)</summary>
        <div>
            <login-or-register></login-or-register>
        </div>
    </details>


    <details class="authenticated">
        <summary>2 - Legg inn hvem du ønsker å SNOKE på</summary>
        <div>
            <p>Legg inn navn her. Hvis du vet sted og fødselsår, legg også inn dette,
                spesielt dersom navnet ikke er helt unikt. </p>
            <form is="snoke-request-submission">
                <label>Navn (obligatorisk)
                    <input name="full_name" required placeholder="Per Person" value="Per Person">
                </label>
                <label>
                    Fødselsår (frivillig, men legg det inn dersom du vet det)
                    <input name="year_of_birth" type="number" placeholder="1981" value="1980">
                </label>
                <label>
                    Sted/kommune (frivillig, men legg det inn dersom du vet det)
                    <input name="county" placeholder="Feks Bærum" value="Bærum">
                </label>
                <input type="submit" value="Legg til">
            </form>
            <p>Her er listen over personer du ønsker å se skatteinformasjon til: </p>
            <my-snoke-requests></my-snoke-requests>
        </div>
    </details>


    <details class="authenticated">
        <summary>3 - SNOK på fremmede, for andre med-snokere</summary>
        <div>

            <p>
                Systemet baserer seg på noen andre snoker for deg, og du snoker for andre.
                De som har snoket for andre vil bli prioritert - dersom du ikke bidrar
                til snoke-fellesskapet, er det usannsynlig at noen vil snoke for deg.
                Listen over snoke-forespørsler blir sortert slik at de som har besvart
                forespørsler blir prioritert over de som ikke har gjort en innsats.
            </p>
            <p>
                Her er listen over noen vi ønsker skatteinformasjon for - velg en
                tilfeldig person herfra, og hent skatteinformasjon deres herfra:
                <a target="_blank" href="https://www.skatteetaten.no/skjema/sok-i-skattelistene/">
                    Skatteetaten sine sider</a>.
                Merk at du må være minst 16 år gammel, og identifisere deg
                vha BankID.
            </p>
            <p>Trykk på en av radene for å registrere resultatet av en SNOKING!</p>
            <open-snoke-requests></open-snoke-requests>
        </div>
    </details>

    <details class="authenticated">
        <summary>4 - Se hva andre har SNOKET frem for deg!</summary>
        <div>
            <p>
                Vent på e-postvarsel, eller besøk denne siden senere, dersom
                skatteinformasjonen ikke har kommet ennå.
            </p>
            <p>
                Her er listen over dine utførte snoke-ønsker:
            </p>
            <my-snoke-responses></my-snoke-responses>
        </div>
    </details>
</div>

</body>
</html>